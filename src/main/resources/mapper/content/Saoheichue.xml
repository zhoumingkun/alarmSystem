<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.toughguy.alarmSystem.model.content.Saoheichue">

	<insert id="save" parameterType="Saoheichue" keyProperty="id" useGeneratedKeys="true">
		insert into shce (createTime,updateTime,xzqh, tbdw,shcedzxs,djqbfzxs,djwwfzxs,phstfzxs,ffjzfzxs,dxwlfzxs,hj,tbr) 
		values (#{createTime},#{updateTime},#{xzqh}, #{tbdw},#{shcedzxs},#{djqbfzxs},#{djwwfzxs},#{phstfzxs},#{ffjzfzxs},#{dxwlfzxs},#{hj},#{tbr})
	</insert>
	
	<!-- 删除某个信息 -->
	<delete id="delete" parameterType="int" >
		delete from shce where id = #{id}
	</delete>
	
	<!-- 查询某个信息 -->
	<select id="find" parameterType="int" resultType="Saoheichue">
		select * from shce where id = #{id}
	</select>
	
	
	
	<!-- 查询全部信息 -->
	<select id="findAll" resultType="Saoheichue" parameterType="Map">
		select * from shce
		<include refid="paramsSQL"/>
	</select>
	
	<!-- 分页查询信息 -->
	<select id="findPaginated" resultType="Saoheichue" parameterType="Map">
		select * from shce
		<include refid="paramsSQL"/>
		ORDER BY updateTime desc  limit #{offset}, #{limit}
	</select>
	
	<select id="getTotalOfItems" parameterType="Map" resultType="int">
		select count(*) from shce
		<include refid="paramsSQL"/>
	</select>

	<!-- 修个某条信息 -->
	<update id="update" parameterType="Saoheichue">
		update shce
		<set>
			<if test="xzqh != null and xzqh != ''">xzqh = #{xzqh},</if>
			<if test="tbdw != null and tbdw != ''">tbdw = #{tbdw},</if>
			<if test="shcedzxs != null and shcedzxs != ''">shcedzxs = #{shcedzxs},</if>
			<if test="djqbfzxs != null and djqbfzxs != ''">djqbfzxs = #{djqbfzxs},</if>
			<if test="djwwfzxs != null and djwwfzxs != ''">djwwfzxs = #{djwwfzxs},</if>
			<if test="phstfzxs != null and phstfzxs != ''">phstfzxs = #{phstfzxs},</if>
			<if test="ffjzfzxs != null and ffjzfzxs != ''">ffjzfzxs = #{ffjzfzxs},</if>
			<if test="dxwlfzxs != null and dxwlfzxs != ''">dxwlfzxs = #{dxwlfzxs},</if>
			<if test="hj != null and hj != ''">hj = #{hj},</if>
			<if test="tbr != null and tbr != ''">tbr = #{tbr},</if>
		</set>
		where id = #{id}
	</update>
	
	<!-- 通用的设置条件的查询SQL语句 -->
	<sql id="paramsSQL">
		<where>
			<if test=" xzqh != null and xzqh != '' ">
				and xzqh = #{xzqh}
			</if>
			<if test=" tbdw != null and tbdw != '' ">
				and tbdw = #{tbdw}
			</if>
			<if test=" tbr != null and tbr != '' ">
				and tbr = #{tbr}
			</if>
			
		</where>
	</sql>
	
</mapper>